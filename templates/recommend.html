{% extends 'base.html' %}

{% block content %}
<h1>Explore Apps by Category</h1>
<p>Select a category to view the best apps available.</p>

<!-- Category Selection Form -->
<form method="POST" class="search-form">
    <select name="category" required>
        <option value="">-- Select App Category --</option>
        {% for cat in categories %}
        <option value="{{ cat }}" {% if cat == selected_category %}selected{% endif %}>
            {{ cat }}
        </option>
        {% endfor %}
    </select>

    <button type="submit" class="btn btn-primary">
        Show Apps
    </button>
</form>

<!-- Recommendation Results -->
{% if selected_category %}
<h2>Available Apps in "{{ selected_category }}"</h2>

<div class="app-grid">
    {% for app in recommendations %}
    <div class="app-card">
        <h3>{{ app.app_name }}</h3>
        <span class="badge">{{ app.category }}</span>
        <p>{{ app.description[:100] }}...</p>
        <div class="rating">‚≠ê {{ app.avg_rating }}</div>
    </div>
    {% endfor %}
</div>
{% endif %}

{% endblock %}
